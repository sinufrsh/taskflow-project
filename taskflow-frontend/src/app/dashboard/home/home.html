<div class="container-fluid mt-4">
    <!-- TOP BAR -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h4 class="fw-bold">Task Dashboard</h4>

        <div class="d-flex">
            <input class="form-control me-2" style="width:200px" placeholder="Search tasks..." [(ngModel)]="searchText">

            <button class="btn btn-primary" (click)="openModal()">
                + New Task
            </button>
        </div>
    </div>

    <!-- STATS CARDS -->
    <div class="row g-3 mb-4">

        <div class="col-md-3">
            <div class="stat-card border-primary">
                <small>Total Tasks</small>
                <h4>{{tasks.length}}</h4>
            </div>
        </div>

        <div class="col-md-3">
            <div class="stat-card border-warning">
                <small>To-Do</small>
                <h4>{{getCount('TODO')}}</h4>
            </div>
        </div>

        <div class="col-md-3">
            <div class="stat-card border-info">
                <small>In Progress</small>
                <h4>{{getCount('IN_PROGRESS')}}</h4>
            </div>
        </div>

        <div class="col-md-3">
            <div class="stat-card border-success">
                <small>Done</small>
                <h4>{{getCount('DONE')}}</h4>
            </div>
        </div>

    </div>

    <!-- FILTER BUTTONS -->
    <div class="mb-4">
        <button class="btn btn-outline-primary me-2" (click)="filterStatus='ALL'">All</button>
        <button class="btn btn-outline-secondary me-2" (click)="filterStatus='TODO'">To-Do</button>
        <button class="btn btn-outline-warning me-2" (click)="filterStatus='IN_PROGRESS'">In Progress</button>
        <button class="btn btn-outline-success" (click)="filterStatus='DONE'">Done</button>
    </div>

    <!-- TASK CARDS -->
    <div class="row">

        <div class="col-md-4 mb-3" *ngFor="let task of tasks 
         | statusFilter:filterStatus 
         | searchFilter:searchText">

            <div class="task-card shadow-sm p-3">

                <!-- TITLE -->
                <div class="d-flex justify-content-between">
                    <h6 class="fw-bold text-primary">
                        {{task.title}}
                    </h6>

                    <span class="badge" [ngClass]="{
                      'bg-secondary': task.status==='TODO',
                      'bg-warning': task.status==='IN_PROGRESS',
                      'bg-success': task.status==='DONE'
                      }">
                        {{task.status}}
                    </span>
                </div>

                <!-- DESCRIPTION -->
                <p class="text-muted small mt-2">
                    {{task.description}}
                </p>

                <!-- DUE DATE -->
                <small class="text-muted">
                    ðŸ“… Due Date: {{task.dueDate}}
                </small>

                <!-- ACTIONS -->
                <div class="mt-3 d-flex justify-content-between align-items-center">

                    <select class="form-select form-select-sm w-50" [(ngModel)]="task.status"
                        (change)="updateStatus(task)">
                        <option value="TODO">To-Do</option>
                        <option value="IN_PROGRESS">In Progress</option>
                        <option value="DONE">Done</option>
                    </select>

                    <div>
                        <button class="btn btn-warning btn-sm me-2" (click)="editTask(task)">
                            Edit
                        </button>

                        <button class="btn btn-danger btn-sm" (click)="deleteTask(task.id)">
                            Delete
                        </button>
                    </div>

                </div>

            </div>

        </div>

    </div>
    ```

</div>

<!-- ================= MODAL ================= -->

<div *ngIf="showModal" class="modal-backdrop-custom">

    ```
    <div class="modal-card">

        <div class="modal-header">
            <h5>{{ isEditMode ? 'Edit Task' : 'Create New Task' }}</h5>
            <button class="btn-close" (click)="closeModal()">âœ–</button>
        </div>

        <div class="modal-body">

            <label>Task Title *</label>
            <input class="form-control" [(ngModel)]="newTask.title">

            <label class="mt-3">Description</label>
            <textarea class="form-control" [(ngModel)]="newTask.description"></textarea>

            <div class="row mt-3">

                <div class="col">
                    <label>Due Date *</label>
                    <input type="date" class="form-control" [(ngModel)]="newTask.dueDate">
                </div>

                <div class="col">
                    <label>Status</label>
                    <select class="form-control" [(ngModel)]="newTask.status">
                        <option value="TODO">To-Do</option>
                        <option value="IN_PROGRESS">In Progress</option>
                        <option value="DONE">Done</option>
                    </select>
                </div>

            </div>

        </div>

        <div class="modal-footer">
            <button class="btn btn-secondary" (click)="closeModal()">Cancel</button>

            <button class="btn btn-primary" (click)="saveTask()">
                {{ isEditMode ? 'Update Task' : 'Create Task' }}
            </button>
        </div>

    </div>

</div>